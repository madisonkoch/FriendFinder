<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder Survey</title>

    <!-- Bootstrap, JS & CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Fonts & Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Shadows+Into+Light+Two" rel="stylesheet">
    
</head>
<body class="container">
    <div class="col-md-6 col-md-push-3">
        <h1 style = "color:#ff9800de; font-family: 'Pacifico', cursive;"><i class="fa fa-child" style = "color:#ff9800de;"></i> Friend Finder</h1>
        <hr>

        <h3 style="font-family: 'Shadows Into Light Two', cursive;">About You</h3>

        <input type="text" id="name" class="form-control" required="" style="max-width: 400px; font-family: 'Shadows Into Light Two', cursive;" placeholder="Name">
        <br>
        <input type="text" id="image" class="form-control" required="" style="max-width: 400px; font-family: 'Shadows Into Light Two', cursive;" placeholder="Profile Image">
        <hr>
        <h3 style="font-family: 'Shadows Into Light Two', cursive;">I see myself as someone who...</h3>
        <h4 style="font-family: 'Shadows Into Light Two', cursive;">(Answer the statements where 1 is Strongly Agree, 3 is Neutral and 5 is Strongly Disagree.)</h4>
        <br>
        <form class="form">
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q1" class="chosen-select">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option selected value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    </select>
                </div>
                <label for="q1">is an energetic person.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q2" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q2">makes plans and follows through with them.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q3" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q3">has an active imagination.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q4" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q4">is sophisticated in art, music, orliterature.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q5" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q5">has a forgiving nature.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q6" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q6">starts quarrels with others.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q7" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q7">perseveres until the task is fulfilled.</label>
            </div> 
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q8" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q8">does a thorough job.</label>
            </div>   
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q9" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q9">is sometimes shy.</label>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <select id="q10" class="chosen-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option selected value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <label for="q10">worries alot.</label>
            </div>           
        </form>
        <br>
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit" style="background-color:#fec066; border-color:#fec066;"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>
        <hr>
        <footer class="footer">
            <div class="col-md-6 col-md-push-3">
                <p class="text-center"><a href="/api/friends">API Friends List</a> | <a href="https://github.com/madisonkoch/FriendFinder">GitHub Repo</a></p>
            </div>
        </footer>
             
    </div>

    <!-- Modal -->
    <div id="best-friend-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
    
            <!-- Modal content-->
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">Ã—</button>
                <h2 class="modal-title"><strong>Best Match</strong></h2>
            </div>
            <div class="modal-body">
                <h2 id="best-friend-name"></h2>
                <img id="best-friend-img" src="https://localmarketingplus.ca/wp-content/uploads/2015/02/blue-head.jpg" alt="">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
            </div>
    
        </div>
    </div>

<script>
    $("#submit").on("click", function(event){
        event.preventDefault();
        function validform() {
            var valid = true;
            $(".form-control").each(function(){
                if($(this).val() === ""){
                    valid = false;
                }
            });
            $(".chosen-select").each(function(){
                if ($(this).val() === ""){
                    valid = false;
                }
            });
            return valid;
        }

        if (validform()){
            var newFriend = {
                name: $("#name").val(),
                photo: $("#image").val(),
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()
                ]
            };
        //console.log(newFriend);
            const findMatch = function(){
            //calculation that finds closest match
//HELP how do I reference the data already in the friends.js api                    

            //put closest match's data in modal
                // $("#best-friend-name").text(data.name);
                // $("#best-friend-img").attr("src", data.photo);

            //make modal visible
                $("#best-friend-modal").modal("toggle");
            };

            $.post("api/friends",newFriend,findMatch())

        } else {
            alert("Hmmmm... looks like you missed something(s). Make sure you fill out all fields to continue.")
        }
    });

</script>
</body>
</html>
